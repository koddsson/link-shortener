---
version: 1
interactions:
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
    url: http://localhost:9201/links
    method: GET
  response:
    body: '{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no
      such index","resource.type":"index_or_alias","resource.id":"links","index_uuid":"_na_","index":"links"}],"type":"index_not_found_exception","reason":"no
      such index","resource.type":"index_or_alias","resource.id":"links","index_uuid":"_na_","index":"links"},"status":404}'
    headers:
      Content-Type:
      - application/json; charset=UTF-8
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: '{"settings": {"index": {"number_of_shards": 1}}}'
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
    url: http://localhost:9201/links
    method: PUT
  response:
    body: '{"acknowledged":true,"shards_acknowledged":true,"index":"links"}'
    headers:
      Content-Type:
      - application/json; charset=UTF-8
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"properties": {"@timestamp": {"type": "date"}, "url": {"type": "text",
      "analyzer": "standard"}}}'
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
    url: http://localhost:9201/links/_mappings/link
    method: PUT
  response:
    body: '{"acknowledged":true}'
    headers:
      Content-Type:
      - application/json; charset=UTF-8
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"id":"abc","url":"https://example.com","@timestamp":"2018-12-13T19:41:00.638626Z"}'
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
    url: http://localhost:9201/links/link/abc
    method: PUT
  response:
    body: '{"_index":"links","_type":"link","_id":"abc","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":0,"_primary_term":1}'
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Location:
      - /links/link/abc
    status: 201 Created
    code: 201
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
    url: http://localhost:9201/links
    method: GET
  response:
    body: '{"links":{"aliases":{},"mappings":{"link":{"properties":{"@timestamp":{"type":"date"},"id":{"type":"text","fields":{"keyword":{"type":"keyword","ignore_above":256}}},"url":{"type":"text","analyzer":"standard"}}}},"settings":{"index":{"creation_date":"1544730060144","number_of_shards":"1","number_of_replicas":"1","uuid":"OGM99kAcQXSHS7T3fK6fYA","version":{"created":"6040099"},"provided_name":"links"}}}}'
    headers:
      Content-Type:
      - application/json; charset=UTF-8
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"properties": {"@timestamp": {"type": "date"}, "url": {"type": "text",
      "analyzer": "standard"}}}'
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
    url: http://localhost:9201/links/_mappings/link
    method: PUT
  response:
    body: '{"acknowledged":true}'
    headers:
      Content-Type:
      - application/json; charset=UTF-8
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
    url: http://localhost:9201/links/link/abc/_source
    method: GET
  response:
    body: '{"id":"abc","url":"https://example.com","@timestamp":"2018-12-13T19:41:00.638626Z"}'
    headers:
      Content-Type:
      - application/json; charset=UTF-8
    status: 200 OK
    code: 200
    duration: ""
